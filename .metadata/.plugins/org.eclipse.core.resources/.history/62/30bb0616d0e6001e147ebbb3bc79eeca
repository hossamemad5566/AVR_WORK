#include "main.h"

#define UART_MODE   UART_MODE_TRNS
/*this code for receive */
void setup (void)
{

    GIE_voidEnable();
    M_UART_Void_UARTInit();
    H_Lcd_Void_LCDInit();
    H_LED_Void_LedInit(LED_GRN);
    H_LED_Void_LedInit(LED_YEL);
    /*configure bits as I\O*/
	M_DIO_Void_SetPinDirection(PD0_PIN,INPUT);
	M_DIO_Void_SetPinDirection(PD1_PIN,OUTPUT);

}

int main(void)
{


	setup();

    while(1)
    {
        #if (UART_MODE == UART_MODE_TRNS)

        M_UART_Void_UARTWriteCharacter('A');
        _delay_ms(1000);

        #elif (UART_MODE == UART_MODE_RCV)
        u8 x =0;
        x = M_UART_U8_UARTReadCharacter();
        if(x=='A')
        {
        	H_Lcd_Void_LCDGoTo(0,0);
        	H_Lcd_Void_LCDWriteCharacter(x);
            H_LED_Void_LedTog(LED_GRN);
        }
        else
        {
        	H_Lcd_Void_LCDGoTo(0,0);
			H_Lcd_Void_LCDWriteString("NO");
            H_LED_Void_LedOff(LED_GRN);
            H_LED_Void_LedOn(LED_YEL);
        }
        
        #endif
        
    }
}

